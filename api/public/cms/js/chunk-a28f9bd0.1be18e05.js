(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a28f9bd0"],{"2f21":function(t,e,a){"use strict";var i=a("79e5");t.exports=function(t,e){return!!t&&i(function(){e?t.call(null,function(){},1):t.call(null)})}},"57e7":function(t,e,a){"use strict";var i=a("5ca1"),l=a("c366")(!1),s=[].indexOf,n=!!s&&1/[1].indexOf(1,-0)<0;i(i.P+i.F*(n||!a("2f21")(s)),"Array",{indexOf:function(t){return n?s.apply(this,arguments)||0:l(this,t,arguments[1])}})},"78ce":function(t,e,a){var i=a("5ca1");i(i.S,"Date",{now:function(){return(new Date).getTime()}})},"7cb5":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-tabs",[a("el-tab-pane",{attrs:{label:"预约信息"}},[a("el-card",[a("div",{staticClass:"head"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogVisible=!0}}},[t._v("导出")])],1),a("el-dialog",{staticStyle:{"text-align":"left"},attrs:{title:"导出当前项目",visible:t.dialogVisible,width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-form",{ref:"form",attrs:{model:t.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"项目名称"}},[a("el-input",{attrs:{placeholder:"请输入项目名..."},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.dc}},[t._v("确 定")])],1)],1),a("el-dialog",{staticStyle:{"text-align":"left"},attrs:{title:"预约详情",visible:t.seev,width:"40%"},on:{"update:visible":function(e){t.seev=e}}},[a("div",{staticClass:"seev"},[t._v("预约时间:"+t._s(t.view.time))]),t._l(t.view.info,function(e,i){return a("div",[t.view.info?[a("div",{staticClass:"seev"},[a("div",{staticStyle:{color:"#0080FF"}},[t._v(t._s(i)+":")]),a("div",[t._v(t._s(e))])])]:t._e()],2)}),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.seev=!1}}},[t._v("确 定")])],1)],2),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"block"},[a("el-date-picker",{attrs:{type:"daterange","value-format":"yyyy-M-d",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.sefrom.time,callback:function(e){t.$set(t.sefrom,"time",e)},expression:"sefrom.time"}})],1)]),a("el-col",{attrs:{span:4}},[a("el-input",{attrs:{placeholder:"输入关键词或编号进行搜索"},model:{value:t.sefrom.keys,callback:function(e){t.$set(t.sefrom,"keys",e)},expression:"sefrom.keys"}})],1),a("el-col",{attrs:{span:4}},[a("el-button",{on:{click:t.search}},[t._v("查询")])],1),a("el-col",{attrs:{span:4}},[a("el-button",{on:{click:t.qqcloseall}},[t._v("清除全部预约数据")])],1)],1)],1)]),a("el-table",{staticStyle:{"margin-top":"40px"},attrs:{data:t.tableData.slice((t.currentPage-1)*t.pageSize,t.currentPage*t.pageSize)||t.tableData.filter(function(e){return!t.search||e.name.toLowerCase().includes(t.search.toLowerCase())})}},[a("el-table-column",{attrs:{label:"编号",prop:"id"}}),a("el-table-column",{attrs:{label:"预约时间",prop:"time"}}),a("el-table-column",{attrs:{label:"创建时间",prop:"create_time"}}),a("el-table-column",{attrs:{label:"查询关键词1",prop:"key1"}}),a("el-table-column",{attrs:{label:"查询关键词2",prop:"key2"}}),a("el-table-column",{attrs:{label:"查询关键词3",prop:"key3"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"400"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){return t.see(e.row)}}},[t._v("查看")]),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){return t.qclose(e.row)}}},[t._v("取消")])]}}])})],1),a("el-pagination",{staticStyle:{"margin-top":"20px","margin-left":"500px"},attrs:{background:"",layout:"prev, pager, next",total:t.total1},on:{"current-change":t.currentChangeHandle,"size-change":t.sizeChangeHandle}})],1),a("el-tab-pane",{attrs:{label:"表单设置"}},[a("el-form",{ref:"dynamicValidateForm",staticClass:"demo-dynamic",staticStyle:{"margin-top":"40px"},attrs:{model:t.dynamicValidateForm,"label-width":"100px"}},[t._l(t.dynamicValidateForm.domains,function(e,i){return a("el-form-item",{key:e.key,attrs:{label:e.keyname,prop:"domains."+i+".value"}},[a("span",{staticStyle:{"margin-left":"15px"}},[t._v("字段名")]),a("el-input",{staticStyle:{width:"200px","margin-left":"20px"},model:{value:e.name,callback:function(a){t.$set(e,"name",a)},expression:"domain.name"}}),a("span",{staticStyle:{"margin-left":"15px"}},[t._v("类型")]),a("el-select",{staticStyle:{width:"100px","margin-left":"20px"},model:{value:e.type,callback:function(a){t.$set(e,"type",a)},expression:"domain.type"}},t._l(t.options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1),a("span",{staticClass:"head_demo"},[t._v("是否必填:")]),[a("el-radio",{attrs:{label:0},model:{value:e.is_ok,callback:function(a){t.$set(e,"is_ok",a)},expression:"domain.is_ok"}},[t._v("否")]),a("el-radio",{staticClass:"left",attrs:{label:1},model:{value:e.is_ok,callback:function(a){t.$set(e,"is_ok",a)},expression:"domain.is_ok"}},[t._v("是")])],a("span",{staticClass:"head_demo"},[t._v("是否查询:")]),[a("el-radio",{attrs:{label:0},model:{value:e.is_se,callback:function(a){t.$set(e,"is_se",a)},expression:"domain.is_se"}},[t._v("否")]),a("el-radio",{staticClass:"left",attrs:{label:1},model:{value:e.is_se,callback:function(a){t.$set(e,"is_se",a)},expression:"domain.is_se"}},[t._v("是")])],a("span",{staticClass:"head_demo"},[t._v("是否显示:")]),[a("el-radio",{attrs:{label:0},model:{value:e.is_view,callback:function(a){t.$set(e,"is_view",a)},expression:"domain.is_view"}},[t._v("否")]),a("el-radio",{staticClass:"left",attrs:{label:1},model:{value:e.is_view,callback:function(a){t.$set(e,"is_view",a)},expression:"domain.is_view"}},[t._v("是")])],a("span",{staticClass:"head_demo"},[t._v("备注")]),a("el-input",{staticStyle:{width:"200px","margin-left":"20px"},model:{value:e.msg,callback:function(a){t.$set(e,"msg",a)},expression:"domain.msg"}}),a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"danger",icon:"el-icon-delete",circle:""},on:{click:function(a){return a.preventDefault(),t.removeDomain(e)}}})],2)}),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm("dynamicValidateForm")}}},[t._v("提交")]),a("el-button",{on:{click:t.addDomain}},[t._v("新增字段")])],1)],2)],1)],1)],1)},l=[],s=(a("ac6a"),a("78ce"),a("57e7"),{data:function(){return{lets:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","AA","AB","AC","AD","AE","AF","AG","AH","AI","AJ","AK","AL","AM","AN","AO","AP","AQ","AR","AS","AT","AU","AV","AW","AX","AY","AZ"],fileList:{},info:{url:""},searchvalue:"",message:"",total1:0,currentPage:1,pageSize:10,options:[{value:0,label:"输入框"},{value:1,label:"单选框"},{value:2,label:"多选框"},{value:3,label:"下拉框"},{value:4,label:"时间选择器"}],options2:[{value:0,label:"否"},{value:1,label:"是"}],form:{name:"",url:"../xl/"},key:{url:""},dialogVisible:!1,dialogVisible2:!1,seev:!1,dynamicValidateForm:{domains:[{name:"",type:"",is_ok:0,is_se:0,is_view:0,msg:""}]},tableData:[],sefrom:{keys:"",time:""},sefrom2:{keys:"",time:{0:"",1:""}},keys:{key1:"",key2:"",key3:"",n:""},view:{},viewkey:{}}},A_name:"姓名",mounted:function(){var t=localStorage.getItem("token");""!=t&&t||this.$router.push({path:"/login"}),this.onload(),this.onload2()},methods:{onSuccess:function(t,e,a){this.key.url=t.data.url},currentChangeHandle:function(t){console.log("当前页码",t),this.currentPage=t},sizeChangeHandle:function(t){console.log("当前页码",t)},submitForm:function(t){var e=this,a=this.dynamicValidateForm.domains,i=this.options,l=this.options2;for(var s in a){for(var n in i)a[s].type==i[n].label&&(console.log(i[n].label),a[s].type=i[n].value);for(var o in l)a[s].is_ok==l[o].label&&(a[s].is_ok=l[o].value)}this.http.post(this.$api.key.addall,a).then(function(t){e.$message({showClose:!0,message:"修改成功",type:"success"}),e.timer=setTimeout(function(){},1e3),e.onload2()})},resetForm:function(t){this.$refs[t].resetFields()},removeDomain:function(t){var e=this.dynamicValidateForm.domains.indexOf(t);-1!==e&&this.dynamicValidateForm.domains.splice(e,1)},addDomain:function(){this.dynamicValidateForm.domains.push({type:"",is_ok:0,msg:"",is_se:0,is_view:0,key:Date.now()})},dc:function(){this.http.post(this.$api.ProExcel.dc,this.form).then(function(t){alert("导出成功其项目id为"+t.data.id)}),this.dialogVisible=!1,this.onload()},dr:function(){var t=this;this.http.post(this.$api.ProExcel.dr,this.key).then(function(e){t.$message({showClose:!0,message:"导入成功",type:"success"}),t.dialogVisible2=!1,t.onload2()})},onload:function(){var t=this;this.http.post_show(this.$api.Order.getinfo,this.sefrom2).then(function(e){t.tableData=e.data,t.total1=t.tableData.length})},onload2:function(){var t=this;this.http.get(this.$api.key.get).then(function(e){t.dynamicValidateForm.domains=e.data})},search:function(){var t=this;this.sefrom.keys||this.sefrom.time?this.http.post_show(this.$api.Order.getinfo,this.sefrom).then(function(e){console.log(e),t.tableData=e.data,t.total1=t.tableData.length}):this.onload()},F5:function(){this.http.get(this.$api.Order.F5).then(function(t){console.log(t)})},qclose:function(t,e){var a=this;this.$confirm("此操作将取消本次预约, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.close(t,e),a.$message({type:"success",message:"删除成功!"})})},close:function(t,e){var a=this;console.log(t.id);var i={id:t.id};this.http.post(this.$api.Order.close,i).then(function(t){a.onload()})},see:function(t,e){this.seev=!0,this.view=t,console.log(this.view)},qqcloseall:function(){var t=this;this.$confirm("此操作将删除所有的预约数据,推荐您先导出后再删除，是否继续删除？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.qcloseall()})},qcloseall:function(){var t=this;this.$confirm("此操作将删除所有的预约数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.closeall(),t.$message({type:"success",message:"删除完毕!"})})},closeall:function(){var t=this;this.http.Del(this.$api.Order.closeall).then(function(e){t.onload()})}}}),n=s,o=(a("db9d"),a("2877")),r=Object(o["a"])(n,i,l,!1,null,null,null);e["default"]=r.exports},ac6a:function(t,e,a){for(var i=a("cadf"),l=a("0d58"),s=a("2aba"),n=a("7726"),o=a("32e9"),r=a("84f2"),c=a("2b4c"),u=c("iterator"),d=c("toStringTag"),m=r.Array,f={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=l(f),h=0;h<p.length;h++){var v,b=p[h],g=f[b],y=n[b],k=y&&y.prototype;if(k&&(k[u]||o(k,u,m),k[d]||o(k,d,b),r[b]=m,g))for(v in i)k[v]||s(k,v,i[v],!0)}},c5a9:function(t,e,a){},db9d:function(t,e,a){"use strict";var i=a("c5a9"),l=a.n(i);l.a}}]);